# 김영한 스프링 기본편

# 섹션 1. **객체 지향 설계와 스프링**

## 자바 원래 정파 기술 EJB(Enterprise Java Beans)

- 스프링 + JPA 와 같은 종합 선물세트 느낌
- 자바 표준 기술이었음 ㅇㅇ
- 근데 비쌌음.. 수천만원이래..
- 어렵고, 복잡하고, 느림
- 이론은 되게 좋음 분산잘되고 트랜잭션 처리 가능하고 ㅇㅇ
- 제발..옛날로 돌아가자..
- 단순하면서 더 좋은 방법이 있다! 라는 내용으로 책을씀
  → 스프링
- EJB 의 엔티티빈 기술을 대체하는 오픈소스를 만듬
  → 하이버네이트
  → JPA

## 스프링이란..?

- 스프링은 하나의 기술이 아니라 여러가지 기술들의 모음임
- 스프링 프레임워크, 스프링 부트, 스프링 데이터, 등등
- 이 모든걸 편리하게 사용하도록 도와주는 것이 스프링 부트


과거에는 스프링 프레임워크와 맞는 DB 혹은 여러 라이브러리 들의 버전관리가 진짜 힘들었음

but. 지금은 스프링 부트가 이 모든 것을 해줌

그렇다면 대체 사람들을 왜 스프링에 열광했을까?

이 기술의 핵심 컨셉은 무엇일까?

## 스프링

→ 자바 기반의 프레임워크

→ 객체 지향 언어가 가진 강력한 특징을 살려재는 프레임워크

→ 과거 EJB는 EJB에 의존적으로 개발해야 되기 때문에 객체지향의 장점을 다잃어버림

## 그렇다면 좋은 객체 지향 프로그래밍이란 무엇일까?

유연하고 변경에 용이해야한다.

→ 다형성

이런식으로 자동차의 역할을 하는 객체가 있다면 어떤 차종으로 바뀌든 갈아낄 수 있다.

이때 운전자는 차종과 상관없이 어떤 차든 `자동차` 라는 역할만 할 수있는 객체가 들어온다면 언제든 운전 할 수있다.

이게 어떻게 가능하냐? → 역할과 구현으로 구분했기 때문

역할과 구현으로 구분을 하게되면 유연해지며, 변경이 편리해진다.

장점

1. 클라이언트는 대상의 역할만 알면 된다.
2. 클라이언트는 구현 대상의 내부 구조를 몰라도 된다.
3. 클라이언트는 내부 구조가 변경 되어도 영향을 받지 않는다.
4. 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않는다.

## 다형성의 본질

- 인터페이스를 구현한 객체 인스턴스를 실행 시점에 유연하게 변경 가능
- 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있다.

## 하지만 인터페이스 자체가 변경한다면

클라이언트와 서버 모두 큰 변경이 발생됨

때문에 안정적인 인터페이스를 설계하는 것이 중요함

## 좋은 객체 지향 설계의 5가지 원칙 : SOLID

SRP : 단일 책임의 원칙

- 한 클래스는 하나의 책임만 가져야 한다.
- 중요한 기준은 변경이다! 변경이 있을 때 파급효과가 적다면? 단일 책임 원칙을 잘 지킨것

OCP : 개방 -폐쇄 원칙

- 확장에는 열려 있으나 변경에는 닫혀 있어야 한다.
- 새로운 repo를 만들었다면? 이건 기존 코드를 수정한게 아니다
- 즉, 새로운 객체가 들어왔을 때 문제 없이 실행이 되야하며 이것 때문에 기존 코드에 수정이 있으면 안된다.

LSP : 리스코프 치환 원칙

- 프로그램의 객체는 프로그램의 정확성을 깨뜨리지 않으며 하위 타입의 인스턴스로 바꿀 수 있어야함
- 즉, 하위 클래스는 인터페이스의 규약을 다 지켜야함
- 단순히 컴파일 에러를 통과한다고 되는 것이 아님
- ex) 자동차의 엑셀을 앞으로 가능 기능임. 뒤로 가게되면 LSP 위배

ISP : 인터페이스 분리 원칙

- 특정 클라이언트를 위한 인터페이스 여러개가 범용 인터페이스 하나보다 낫다
- 즉, 카센터 라는 인터페이스 보단 자동차, 정비사, 운전자 와 같은 여러개의 인터페이스로 나누는 것이 좋다
- 정비사의 코드가 변경되어도 자동차의 코드엔 영향이 없게

DIP : 의존관계 역전 원칙

- 추상화에 의존해야지, 구체화에 의존하면 안된다.
- 구현 클래스에 의존하지말고 인터페이스에 의존하라는 뜻

  Car car = new K3();
  → DIP 위반, K3에 대해 알고 있음 ㅇㅇ


### `다형성 만으로는 OCP, DIP를 지킬 수 없음`

## 객체 지향 설계와 스프링

스프링의 기술로 다형성 + OCP, DIP 를 가능하게 지원해줌

DI : 의존관계, 의존성 주입

즉, DI 컨테이너를 제공해 주며 위의 다형성과 OCP, DIP 를 지킬 수 있다.
